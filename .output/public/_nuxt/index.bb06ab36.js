import{_ as m,a as _}from"./generalMenu.343515dd.js";import{a as v,z as w,A as x,b as a,e as s,j as p,F as g,r as k,o as c,c as C,B as P,q as y}from"./entry.452b7f3a.js";import{C as b}from"./generalCard.c6fa7936.js";import"./index.ac9df0f7.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.bdbb5b1b.js";import"./logoCupid.b8dda0a7.js";import"./swiper-vue.05a5116d.js";const B={data(){return{activeCardIndex:0,isListVisible:!1,prospects:[],showProspects:!1}},computed:{},components:{Card:b},methods:{async getLikedUsers(){try{const e=localStorage.getItem("CupidConnectId"),t=localStorage.getItem("CupidConnectToken"),d={userId:e},l=await v.post("https://espacionebula.com:8000/get-user-likes",d,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${t}`},mode:"cors"}),o=l.data;if(o.success)return o.usersToDisplay;console.log("There was an error with the user : "+l.data.error)}catch{}},removeProspect(e){this.prospects.splice(e,1),this.prospects.length===0&&(this.showProspects=!1)},showMenu(){this.isListVisible=!this.isListVisible},dislikeProspect(){const e=this.$refs.prospectCards[0];e&&e.dismiss(-1)},likeProspect(){const e=this.$refs.prospectCards[0];e&&e.dismiss(1)}},created:async function(){this.prospects=await this.getLikedUsers(),this.prospects&&this.prospects.length>0&&(this.showProspects=!0)},mounted:function(){localStorage.getItem("CupidConnectToken")||w().push("/login")},watch:{prospects:{handler(e,t){},deep:!0}}},L={class:"flex min-h-screen min-w-screen overflow-hidden"},V={class:"lg:hidden"},z={class:"hidden lg:block w-1/6 z-20"},S={class:"w-full lg:w-5/6 relative"},A={key:0},N={class:"mt-10 w-4/6 translate-x-1/2 text-white h-[90vh] flex"},T={class:"absolute flex self-end justify-around w-[70%]"},j={key:1},D=y('<div class="h-screen w-full"><div class="flex items-center justify-center h-full"><div class="text-center text-gray-500"><i class="fas fa-street-view fas-2xl text-4xl mb-4"></i><p class="text-2xl"> No more prospects were found at this moment, <br>please reload the page soon! </p></div></div></div>',1),M=[D];function F(e,t,d,l,o,r){const f=m,h=_,u=x("Card");return c(),a("div",null,[s("div",L,[s("div",V,[p(f)]),s("div",z,[p(h)]),s("div",S,[o.showProspects?(c(),a("div",A,[s("div",N,[(c(!0),a(g,null,k(o.prospects,(i,n)=>(c(),C(u,{ref_for:!0,ref:"prospectCards",class:"overflow-scroll",key:n,index:n,prospect:i,"permission-drag":!0,style:P({"z-index":n*-1}),onDismissed:G=>r.removeProspect(n)},null,8,["index","prospect","style","onDismissed"]))),128)),s("div",T,[s("button",{class:"fas fa-times fa-3x",onClick:t[0]||(t[0]=(...i)=>r.dislikeProspect&&r.dislikeProspect(...i))}),s("button",{class:"fas fa-heart fa-3x",onClick:t[1]||(t[1]=(...i)=>r.likeProspect&&r.likeProspect(...i))})])])])):(c(),a("div",j,M))])])])}const K=I(B,[["render",F]]);export{K as default};
