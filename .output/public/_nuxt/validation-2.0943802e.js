import{a as u,b as l,e,w as p,f as h,v as f,F as g,r as y,t as m,i as x,o as n,p as v,m as b,l as _}from"./entry.452b7f3a.js";import{_ as w}from"./logoCupid.b8dda0a7.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./swiper-vue.05a5116d.js";const k={data(){return{identitiesData:[],selectedIdentity:"",error:""}},mounted(){localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this._username=localStorage.getItem("CupidConnectuser"),this.fetchIdentities()},methods:{async submitFormIdentity(){if(this.verify()){const t=localStorage.getItem("CupidConnectId"),o=localStorage.getItem("CupidConnectToken"),d={userId:t,newIdentity:this.selectedIdentity},a=await u.post("https://espacionebula.com:8000/change-identity-user",d,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${o}`},mode:"cors"});a.data.success?this.$router.push("./validation-3"):(this.error="There was an error with your identity : "+a.data.error,console.log("There was an error with your identity : "+a.data.error),this.clearErrorMessageAfterDelay())}},verify(){return this.selectedIdentity?(this.error="",!0):(this.error="Please select an identity",!1)},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},async fetchIdentities(){try{const t=await u.get("https://espacionebula.com:8000/get-identities",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"},mode:"cors"});this.identitiesData=t.data.identities,this.identitiesData.length>0&&(this.selectedIdentity="")}catch(t){console.error("Error in fetchIdentities:",t)}}}},i=t=>(v("data-v-49331388"),t=t(),b(),t),C={class:"h-full w-full text-white bg-black min-w-screen"},S=i(()=>e("div",{class:"flex justify-center items-center logoEdit"},[e("h2",null,[e("img",{src:w,alt:"frameIcon"})])],-1)),D={class:"grid grid-rows grid-flow-col gap-4 mx-10 sm:mx-30 lg:mx-40"},A={class:""},T={class:"p-8"},E={class:"relative block"},F=i(()=>e("span",{class:"block text-2xl sm:text-m lg:text-5xl"},[_("How do you "),e("b",null,"identify"),_("?")],-1)),B={class:"relative flex flex-col lg:flex-row items-baseline w-full md:8/12 lg:w-10/12 pt-12"},M=i(()=>e("label",{class:"block text-2xl lg:text-5xl pr-5"},[e("b",null,"I am: ")],-1)),V=i(()=>e("option",{value:"",disabled:"",selected:""},"Select your identity",-1)),N=["value"],O=i(()=>e("div",{class:"lg:mt-4 text-right pr-10 xl:pr-52"},[e("button",{type:"submit",class:"mb-10"},[e("i",{class:"fa-solid fa-arrow-right fa-2x"})])],-1)),j={key:0,class:"text-red-500 text-center my-4"};function q(t,o,d,a,r,c){return n(),l("div",C,[S,e("div",D,[e("div",A,[e("form",{onSubmit:o[1]||(o[1]=p((...s)=>c.submitFormIdentity&&c.submitFormIdentity(...s),["prevent"]))},[e("div",T,[e("label",E,[F,e("div",B,[M,h(e("select",{filterable:!0,class:"origin-bottom text-2xl lg:text-3xl p-4 w-full md:6/12 lg:w-8/12 form-input rounded-3xl bg-black border border-gray pl-10 custom-scrollbar-container",type:"text",name:"description","onUpdate:modelValue":o[0]||(o[0]=s=>r.selectedIdentity=s),required:""},[V,(n(!0),l(g,null,y(r.identitiesData,s=>(n(),l("option",{key:s._id,value:s._id,white:""},m(s.name),9,N))),128))],512),[[f,r.selectedIdentity]])])])]),O,r.error?(n(),l("div",j,m(r.error),1)):x("",!0)],32)])])])}const U=I(k,[["render",q],["__scopeId","data-v-49331388"]]);export{U as default};
