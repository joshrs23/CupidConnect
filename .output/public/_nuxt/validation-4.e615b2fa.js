import{a as u,b as i,e,w as p,i as h,F as g,r as f,t as m,o as a,p as x,m as b,l as _}from"./entry.452b7f3a.js";import{_ as v}from"./logoCupid.b8dda0a7.js";import{_ as w}from"./_plugin-vue_export-helper.c27b6911.js";import"./swiper-vue.05a5116d.js";const y={data(){return{interestsData:[],error:"",interestSelected:[],showWarning:!1}},mounted(){localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this._username=localStorage.getItem("CupidConnectuser"),this.fetchInterests()},methods:{verify(){return this.interestSelected.length<3?(this.showWarning=!0,!1):!0},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},async submitFormInterests(){if(this.verify(this.interestSelected)){const t=localStorage.getItem("CupidConnectId"),s=localStorage.getItem("CupidConnectToken"),o={userId:t,newInterests:this.interestSelected},n=await u.post("https://espacionebula.com:8000/change-interest-user",o,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${s}`},mode:"cors"});n.data.success?this.$router.push("./validation-5"):(this.error="There was an error updating your interests : "+n.data.error,console.log("There was an error updating your interests : "+n.data.error),this.clearErrorMessageAfterDelay())}},async fetchInterests(){try{const t=await u.get("https://espacionebula.com:8000/get-interests",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"},mode:"cors"});this.interestsData=t.data.interests}catch{}},changeInterestStatus(t){const s=this.interestSelected.indexOf(t);if(s!==-1){this.showWarning=!1,this.interestSelected.splice(s,1);var o=document.getElementById(t._id);o.style.backgroundColor="transparent"}else{if(this.interestSelected.length==10){this.showWarning=!0;return}this.showWarning=!1,this.interestSelected.push(t);var o=document.getElementById(t._id);o.style.backgroundColor="#686262"}}}},c=t=>(x("data-v-24bfe573"),t=t(),b(),t),I={class:"h-full w-full text-white bg-black min-w-screen flex flex-col items-center"},S=c(()=>e("div",{class:"flex justify-center items-center w-64 lg:m-5"},[e("img",{src:v,alt:"frameIcon"})],-1)),k={class:"grid grid-rows grid-flow-col gap-4 mx-10 sm:mx-20 lg:mx-40 w-5/6 mt-20"},C={class:""},T={class:""},A={class:"relative block"},B=c(()=>e("span",{class:"block text-2xl sm:text-m lg:text-5xl"},[_("Talk to us a little bit about you "),e("b",null,"interests"),_(":")],-1)),D={class:"block w-full w-full md:8/12 pt-12"},W=c(()=>e("label",{class:"block lg:text-3xl lg:pt-18 pt-12"},"Select minimum 3 and maximum 10. ",-1)),E={key:0,class:"text-red-700"},F={class:"flex flex-wrap"},M=["id","value","onClick"],O=c(()=>e("div",{class:"lg:mt-4 text-right pr-10 xl:pr-30"},[e("button",{id:"",type:"submit"},[e("i",{class:"fa-solid fa-arrow-right fa-2x"})])],-1)),V={key:0,class:"text-red-500 text-center my-4"};function j(t,s,o,n,l,d){return a(),i("div",I,[S,e("div",k,[e("div",C,[e("form",{onSubmit:s[0]||(s[0]=p((...r)=>d.submitFormInterests&&d.submitFormInterests(...r),["prevent"]))},[e("div",T,[e("label",A,[B,e("div",D,[W,l.showWarning?(a(),i("label",E,"You have to select 3 or maximum 10!")):h("",!0),e("div",F,[(a(!0),i(g,null,f(l.interestsData,r=>(a(),i("div",{class:"p-2 m-2 border-2 rounded-full border-[#686262] cursor-pointer",id:r._id,key:r._id,value:r._id,onClick:z=>d.changeInterestStatus(r)},m(r.name),9,M))),128))])])]),O,l.error?(a(),i("div",V,m(l.error),1)):h("",!0)])],32)])])])}const G=w(y,[["render",j],["__scopeId","data-v-24bfe573"]]);export{G as default};
