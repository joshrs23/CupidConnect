import{a as m,_ as w}from"./generalMenu.343515dd.js";import{C as y,D as I,G as f,a as S,b as l,e,j as x,F as u,r as _,t as c,l as p,o as a,p as k,m as C}from"./entry.452b7f3a.js";import{S as D}from"./swiper-vue.05a5116d.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.bdbb5b1b.js";import"./logoCupid.b8dda0a7.js";import"./index.ac9df0f7.js";const A={data(){return{_username:"",description:"",identitiesData:[],selectedIdentity:null,orientationData:[],selectedOrientation:null,interestsData:[],selectedInterests:null,pictures:[],activeIndex:0,swiper:null}},mounted(){this.swiper=new D(".swiper-container",{loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:()=>{this.activeIndex=this.swiper.realIndex}}}),localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this._username=localStorage.getItem("CupidConnectuser"),this.asyncData()},methods:{setActiveIndex(s){this.activeIndex=s,this.swiper.slideTo(s,300)},prevSlide(){this.swiper.slidePrev()},nextSlide(){this.swiper.slideNext()},handlePicturesChange(s){this.pictures=s.target.files},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},getIdentity(s){return y().getIdentitiesById(s)},getInterest(s){return I().getInterestsById(s)},getOrientation(){return f().getOrientationsById(this.selectedOrientation)},async asyncData({params:s}){const i=s.id;debugger;return await this.fetchUser(i),{userId:i}},async fetchUser(s){try{const i=localStorage.getItem("CupidConnectToken"),h={userId:s},d=await S.post("https://espacionebula.com:8000/get-user-visitor",h,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${i}`},mode:"cors"}),t=d.data;t.success?(t.user.identities!=""&&(this.selectedIdentity=t.user.identities),t.user._description!=""&&(this.description=t.user._description),t.user._orientations!=""&&(this.selectedOrientation=t.user._orientations),this.selectedInterests=t.user._interests,t.user._pictures.length>0&&(this.pictures=t.user._pictures)):(this.error="There was an error with the user : "+d.data.error,console.log("There was an error with the user : "+d.data.error),this.clearErrorMessageAfterDelay())}catch(i){console.error("Error in fetchUser:",i)}}}},n=s=>(k("data-v-9521d38c"),s=s(),C(),s),B={class:"h-full w-screen text-white flex"},T={class:"hidden lg:block w-1/6"},E={class:"mx-10 my-20 sm:mx-40 lg:mx-60"},M={class:"border-black-300 rounded-3xl mt-5 bg-black border-b border-gray"},N={class:"px-8"},P={class:"flex items-center"},G={class:"pt-10 w-fit lg:w-72 overflow-hidden relative"},U={class:"w-fit lg:w-72 swiper-container"},V={class:"swiper-wrapper"},z=["src"],F={class:"bg-transparent flex absolute bottom-5 left-1/2 z-30 space-x-3 -translate-x-1/2"},j=["aria-current","aria-label","onClick"],L={class:"ml-10 mt-10"},q={class:"text-5xl mb-4",type:"text"},H={class:"text-xl p-4 leading-6",type:"text"},J=n(()=>e("b",null,"Description:",-1)),K=n(()=>e("br",null,null,-1)),Q=n(()=>e("br",null,null,-1)),R={class:"text-xl p-4 leading-6",type:"text"},W=n(()=>e("b",null,"Identity:",-1)),X=n(()=>e("br",null,null,-1)),Y=n(()=>e("br",null,null,-1)),Z={class:"text-xl p-4 leading-6",type:"text"},$=n(()=>e("b",null,"Orientation:",-1)),ee=n(()=>e("br",null,null,-1)),te=n(()=>e("br",null,null,-1)),se={class:"text-xl p-4 leading-6",type:"text"},re=n(()=>e("b",null,"Interests:",-1)),ne=n(()=>e("br",null,null,-1)),ie=n(()=>e("br",null,null,-1)),oe={class:"lg:hidden fixed left-0 right-0 bottom-0 bg-gray-800 p-4"};function le(s,i,h,d,t,o){const v=m,b=w;return a(),l("div",B,[e("div",T,[x(v)]),e("div",E,[e("div",M,[e("div",N,[e("div",P,[e("div",G,[e("div",U,[e("div",V,[(a(!0),l(u,null,_(t.pictures,(r,g)=>(a(),l("div",{key:g,class:"p-15 white swiper-slide"},[e("img",{src:"https://espacionebula.com/img/"+r,alt:"Profile photo",class:"rounded-lg"},null,8,z)]))),128))]),e("div",{class:"swiper-button-prev bg-transparent",onClick:i[0]||(i[0]=(...r)=>o.prevSlide&&o.prevSlide(...r))}),e("div",{class:"swiper-button-next bg-transparent",onClick:i[1]||(i[1]=(...r)=>o.nextSlide&&o.nextSlide(...r))})]),e("div",F,[(a(!0),l(u,null,_(t.pictures,r=>(a(),l("button",{key:r,type:"button",class:"w-3 h-3 rounded-full","aria-current":r===t.activeIndex,"aria-label":"Slide "+(r+1),onClick:g=>o.setActiveIndex(r)},null,8,j))),128))])]),e("div",L,[e("div",q,[e("b",null,c(t._username),1)]),e("div",H,[J,K,Q,p(" "+c(t.description),1)]),e("div",R,[W,X,Y,p(" "+c(o.getIdentity(t.selectedIdentity)),1)]),e("div",Z,[$,ee,te,p(" "+c(o.getOrientation(t.selectedOrientation)),1)]),e("div",se,[re,ne,ie,(a(!0),l(u,null,_(t.selectedInterests,r=>(a(),l("span",{key:r,class:"px-2 py-1 rounded-3xl bg-black border border-gray rounded-xl inline-block"},c(o.getInterest(r)),1))),128))])])])])]),e("div",oe,[x(b)])])])}const ge=O(A,[["render",le],["__scopeId","data-v-9521d38c"]]);export{ge as default};
