import{a as h,b as c,e,f as n,h as d,t as w,i as m,o as u,p as g,m as f}from"./entry.452b7f3a.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";import"./swiper-vue.05a5116d.js";const v={data(){return{message:"",previousPassword:"",newPassword:"",confirmNewPassword:"",error:""}},mounted(){localStorage.getItem("CupidConnectToken")||this.$router.push("/login")},methods:{async changePasswordMessage(){if(this.verify()){const t=localStorage.getItem("CupidConnectId"),s=localStorage.getItem("CupidConnectToken"),i={userId:t,oldPassword:this.previousPassword,newPassword:this.newPassword},a=await h.post("https://espacionebula.com:8000/change-password",i,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${s}`},mode:"cors"});a.data.success?(this.message="You have changed your password",setTimeout(()=>{this.$router.push("/")},4e3)):(this.error=a.data.error,console.log(a.data.error),this.clearErrorMessageAfterDelay())}else this.clearErrorMessageAfterDelay()},verify(){return this.previousPassword?this.previousPassword.length<7?(this.error="Your password must have at least 7 characters",console.log("Your password must have at least 7 characters"),!1):this.newPassword?this.newPassword.length<7?(this.error="Your new password must have at least 7 characters",console.log("Your new password must have at least 7 characters"),!1):this.confirmNewPassword?this.confirmNewPassword.length<7?(this.error="Your confirm new password must have at least 7 characters",console.log("Your confirm new password must have at least 7 characters"),!1):this.newPassword!=this.confirmNewPassword?(this.error="Error the passwords dont match",console.log("Error the passwords dont match"),!1):!0:(this.error="Please write your confirm new password",console.log("Please write your confirm new password"),!1):(this.error="Please write your new password",console.log("Please write your new password"),!1):(this.error="Please write your previous password",console.log("Please write your previous password"),!1)},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)}}},p=t=>(g("data-v-15ad11b4"),t=t(),f(),t),b={class:"grid col-4 flex items-center justify-center h-screen text-white"},_=p(()=>e("div",{class:"white mx-40 text-5xl lg:text-9xl"},[e("h1",null,"Change Password")],-1)),y={class:"mx-40 lg:mx-72 md:text-md lg:text-lg"},x=p(()=>e("span",{class:"block font-medium"}," Please enter passwords: ",-1)),k={class:"w-32 mx-40 lg:mx-80 font-medium hover:bg-gray-700 p-5 text-lg flex justify-center border border-white-500 p-5"},C={key:0,class:"text-red-500 text-center my-4"},N={class:"text-white mx-40 lg:mx-64"};function I(t,s,i,a,r,l){return u(),c("div",b,[_,e("div",y,[e("label",null,[x,n(e("input",{class:"block form-input border-black-300 mt-3 bg-black border border-gray",type:"password",id:"previousPassword",name:"previousPassword",placeholder:"Previous password","onUpdate:modelValue":s[0]||(s[0]=o=>r.previousPassword=o),required:""},null,512),[[d,r.previousPassword]]),n(e("input",{class:"block form-input border-black-300 mt-3 bg-black border border-gray",type:"password",id:"newPassword",name:"newPassword",placeholder:"New Password","onUpdate:modelValue":s[1]||(s[1]=o=>r.newPassword=o),required:""},null,512),[[d,r.newPassword]]),n(e("input",{class:"form-input border-black-300 mt-3 bg-black border border-gray",type:"password",id:"confirmNewPassword",name:"confirmNewPassword",placeholder:"Confirm New Password","onUpdate:modelValue":s[2]||(s[2]=o=>r.confirmNewPassword=o),required:""},null,512),[[d,r.confirmNewPassword]])])]),e("div",k,[e("button",{onClick:s[3]||(s[3]=(...o)=>l.changePasswordMessage&&l.changePasswordMessage(...o))}," Change Password ")]),r.error?(u(),c("div",C,w(r.error),1)):m("",!0),e("p",N,w(r.message),1)])}const A=P(v,[["render",I],["__scopeId","data-v-15ad11b4"]]);export{A as default};
