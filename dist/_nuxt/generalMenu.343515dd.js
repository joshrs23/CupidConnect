import{_ as g}from"./nuxt-link.bdbb5b1b.js";import{_ as k}from"./logoCupid.b8dda0a7.js";import{u as L}from"./index.ac9df0f7.js";import{_ as w}from"./_plugin-vue_export-helper.c27b6911.js";import{o as c,b as u,e,x as n,j as o,k as i,p as x,m as v,a as R,l as a,i as f}from"./entry.452b7f3a.js";const y={data(){return{logo:k,isListVisible:!1,isLogin:!1,userData:L()}},mounted(){localStorage.getItem("CupidConnectToken")&&(this.isLogin=!0)},computed:{isProfileRoute(){return this.$route.path.startsWith("/profile")},isLikesRoute(){return this.$route.path.startsWith("/likes")},isChatsRoute(){return this.$route.path.startsWith("/chats")},isHomeRoute(){return this.$route.path==="/"}},methods:{showMenu(){this.isListVisible=!this.isListVisible},logout(){this.userData.logOutUser(),this.$router.push("/logout")}}},m=l=>(x("data-v-8db59b1b"),l=l(),v(),l),P={class:"menuOverall p-4 cont absolute w-screen h-fit bottom-0 bg-black"},V={class:"flex w-full justify-around"},I=m(()=>e("i",{class:"fas fa-user"},null,-1)),S=m(()=>e("i",{class:"fas fa-heart"},null,-1)),D=m(()=>e("i",{class:"fas fa-comments"},null,-1)),M=m(()=>e("i",{class:"fas fa-home"},null,-1));function U(l,_,b,h,s,t){const r=g;return c(),u("div",P,[e("ul",V,[e("li",{class:n({"font-bold":t.isProfileRoute})},[o(r,{to:"/profile"},{default:i(()=>[I]),_:1})],2),e("li",{class:n({"font-bold":t.isLikesRoute})},[o(r,{to:"/likes"},{default:i(()=>[S]),_:1})],2),e("li",{class:n({"font-bold":t.isChatsRoute})},[o(r,{to:"/chats"},{default:i(()=>[D]),_:1})],2),e("li",{class:n({"font-bold":t.isHomeRoute})},[o(r,{to:"/"},{default:i(()=>[M]),_:1})],2)])])}const le=w(y,[["render",U],["__scopeId","data-v-8db59b1b"]]),T=""+new URL("dummy-image.753d66e5.jpg",import.meta.url).href;const W={data(){return{logo:k,isListVisible:!1,isLogin:!1,userData:""}},mounted(){localStorage.getItem("CupidConnectToken")&&(this.isLogin=!0)},created:async function(){this.userData=await this.fetchUser()},computed:{isProfileRoute(){return this.$route.path.startsWith("/profile")},isLikesRoute(){return this.$route.path.startsWith("/likes")},isChatsRoute(){return this.$route.path.startsWith("/chats")},isHomeRoute(){return this.$route.path==="/"}},methods:{async fetchUser(){try{const l=localStorage.getItem("CupidConnectId"),_=localStorage.getItem("CupidConnectToken"),b={userId:l},h=await R.post("https://espacionebula.com:8000/get-user",b,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${_}`},mode:"cors"}),s=h.data;if(s.success)return s.user;this.error="There was an error with the user : "+h.data.error,console.log("There was an error with the user : "+h.data.error),this.clearErrorMessageAfterDelay()}catch{}},showMenu(){this.isListVisible=!this.isListVisible},logout(){L().logOutUser(),this.$router.push("/logout")}}},p=l=>(x("data-v-f9601148"),l=l(),v(),l),j={class:"flex flex-col menuOverall p-4 cont"},H={class:"w-fit mx-auto"},N={class:"flex flex-col items-center"},O={class:"mb-4"},A=["src"],B=["src"],$=p(()=>e("i",{class:"fas fa-heart"},null,-1)),z=p(()=>e("i",{class:"fas fa-comments"},null,-1)),E=p(()=>e("i",{class:"fas fa-home"},null,-1)),q={class:"mx-auto"},F=p(()=>e("i",{class:"fa-solid fa-bars"},null,-1)),G={id:"hiddenMenu",class:"relative"},J={key:0,class:"hover:font-bold"},K={key:1,class:"hover:font-bolds"},Q={key:2,class:"hover:font-bold"},X={key:3,class:"hover:font-bold"},Y={key:4,class:"hover:font-bold"};function Z(l,_,b,h,s,t){const r=g,d=g;return c(),u("div",j,[e("div",H,[e("ul",N,[e("li",O,[o(r,{to:"/",class:"w-3/4"},{default:i(()=>[e("img",{src:s.logo,class:"h-24"},null,8,A)]),_:1})]),e("li",{class:n({"font-bold":t.isProfileRoute})},[o(r,{to:"/profile",class:"flex items-center"},{default:i(()=>[s.userData._profilePicture?(c(),u("img",{key:0,src:"https://espacionebula.com/img/"+s.userData._profilePicture,alt:"Profile photo",class:n(["w-6 h-6 rounded-full object-cover mr-4",{"border-2 border-white":t.isProfileRoute}])},null,10,B)):(c(),u("img",{key:1,src:T,alt:"Profile photo",class:n(["w-6 h-6 rounded-full object-cover mr-4",{"border-2 border-white":t.isProfileRoute}])},null,2)),a(" Profile ")]),_:1})],2),e("li",{class:n({"font-bold":t.isLikesRoute})},[o(r,{to:"/likes"},{default:i(()=>[$,a(" Likes")]),_:1})],2),e("li",{class:n({"font-bold":t.isChatsRoute})},[o(r,{to:"/chats"},{default:i(()=>[z,a(" Chats")]),_:1})],2),e("li",{class:n({"font-bold":t.isHomeRoute})},[o(r,{to:"/"},{default:i(()=>[E,a(" Home")]),_:1})],2)])]),e("div",q,[e("button",{onClick:_[0]||(_[0]=(...C)=>t.showMenu&&t.showMenu(...C))},[F,a(" Menu")]),e("ul",G,[s.isListVisible&&!s.isLogin?(c(),u("li",J,[o(d,{to:"Login"},{default:i(()=>[a("LogIn")]),_:1})])):f("",!0),s.isListVisible&&!s.isLogin?(c(),u("li",K,[o(d,{to:"/admin/users/add-user"},{default:i(()=>[a("SignUp")]),_:1})])):f("",!0),s.isListVisible&&s.isLogin?(c(),u("li",Q,[o(d,{to:"logout",onClick:t.logout},{default:i(()=>[a("Logout")]),_:1},8,["onClick"])])):f("",!0),s.isListVisible&&s.isLogin?(c(),u("li",X,[o(d,{to:"/user/DeleteProfile"},{default:i(()=>[a("Delete Profile")]),_:1})])):f("",!0),s.isListVisible&&s.isLogin?(c(),u("li",Y,[o(d,{to:"/user/changePassword"},{default:i(()=>[a("Change Password")]),_:1})])):f("",!0)])])])}const re=w(W,[["render",Z],["__scopeId","data-v-f9601148"]]);export{le as _,re as a,T as b};
