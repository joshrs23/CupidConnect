import{a as v,_ as f}from"./generalMenu.343515dd.js";import{C as I,D as w,G as y,a as S,b as o,e,j as x,F as c,r as u,t as d,l as _,o as l,p as k,m as C}from"./entry.452b7f3a.js";import{S as O}from"./swiper-vue.05a5116d.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.bdbb5b1b.js";import"./logoCupid.b8dda0a7.js";import"./index.ac9df0f7.js";const A={data(){return{_username:"",description:"",identitiesData:[],selectedIdentity:null,orientationData:[],selectedOrientation:null,interestsData:[],selectedInterests:null,pictures:[],activeIndex:0,swiper:null}},mounted(){this.swiper=new O(".swiper-container",{loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:()=>{this.activeIndex=this.swiper.realIndex}}}),localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this.fetchUser()},methods:{setActiveIndex(s){this.activeIndex=s,this.swiper.slideTo(s,300)},prevSlide(){this.swiper.slidePrev()},nextSlide(){this.swiper.slideNext()},handlePicturesChange(s){this.pictures=s.target.files},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},getIdentity(s){return I().getIdentitiesById(s)},getInterest(s){return w().getInterestsById(s)},getOrientation(){return y().getOrientationsById(this.selectedOrientation)},async fetchUser(){try{const s=this.$route.params.userId,a=localStorage.getItem("CupidConnectToken"),p={userId:s},g=s;debugger;const n=await S.post("https://espacionebula.com:8000/get-user-visitor",p,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${a}`},mode:"cors"}),t=n.data;t.success?(this._username=t.user._username,t.user.identities!=""&&(this.selectedIdentity=t.user.identities),t.user._description!=""&&(this.description=t.user._description),t.user._orientations!=""&&(this.selectedOrientation=t.user._orientations),this.selectedInterests=t.user._interests,t.user._pictures.length>0&&(this.pictures=t.user._pictures)):(this.error="There was an error with the user : "+n.data.error,console.log("There was an error with the user : "+n.data.error),this.clearErrorMessageAfterDelay())}catch(s){console.error("Error in fetchUser:",s)}}}},i=s=>(k("data-v-de03aaf1"),s=s(),C(),s),B={class:"h-full w-screen text-white flex"},T={class:"hidden lg:block w-1/6"},E={class:"mx-10 my-20 sm:mx-40 lg:mx-60"},M={class:"border-black-300 rounded-3xl mt-5 bg-black border-b border-gray"},N={class:"px-8"},P={class:"flex items-center"},G={class:"pt-10 w-fit lg:w-72 overflow-hidden relative"},U={class:"w-fit lg:w-72 swiper-container"},V={class:"swiper-wrapper"},z=["src"],F={class:"bg-transparent flex absolute bottom-5 left-1/2 z-30 space-x-3 -translate-x-1/2"},j=["aria-current","aria-label","onClick"],L={class:"ml-10 mt-10"},q={class:"text-5xl mb-4",type:"text"},H={class:"text-xl p-4 leading-6",type:"text"},J=i(()=>e("b",null,"Description:",-1)),K=i(()=>e("br",null,null,-1)),Q=i(()=>e("br",null,null,-1)),R={class:"text-xl p-4 leading-6",type:"text"},W=i(()=>e("b",null,"Identity:",-1)),X=i(()=>e("br",null,null,-1)),Y=i(()=>e("br",null,null,-1)),Z={class:"text-xl p-4 leading-6",type:"text"},$=i(()=>e("b",null,"Orientation:",-1)),ee=i(()=>e("br",null,null,-1)),te=i(()=>e("br",null,null,-1)),se={class:"text-xl p-4 leading-6",type:"text"},re=i(()=>e("b",null,"Interests:",-1)),ne=i(()=>e("br",null,null,-1)),ie=i(()=>e("br",null,null,-1)),oe={class:"lg:hidden fixed left-0 right-0 bottom-0 bg-gray-800 p-4"};function le(s,a,p,g,n,t){const b=v,m=f;return l(),o("div",B,[e("div",T,[x(b)]),e("div",E,[e("div",M,[e("div",N,[e("div",P,[e("div",G,[e("div",U,[e("div",V,[(l(!0),o(c,null,u(n.pictures,(r,h)=>(l(),o("div",{key:h,class:"p-15 white swiper-slide"},[e("img",{src:"https://espacionebula.com/img/"+r,alt:"Profile photo",class:"rounded-lg"},null,8,z)]))),128))]),e("div",{class:"swiper-button-prev bg-transparent",onClick:a[0]||(a[0]=(...r)=>t.prevSlide&&t.prevSlide(...r))}),e("div",{class:"swiper-button-next bg-transparent",onClick:a[1]||(a[1]=(...r)=>t.nextSlide&&t.nextSlide(...r))})]),e("div",F,[(l(!0),o(c,null,u(n.pictures,r=>(l(),o("button",{key:r,type:"button",class:"w-3 h-3 rounded-full","aria-current":r===n.activeIndex,"aria-label":"Slide "+(r+1),onClick:h=>t.setActiveIndex(r)},null,8,j))),128))])]),e("div",L,[e("div",q,[e("b",null,d(n._username),1)]),e("div",H,[J,K,Q,_(" "+d(n.description),1)]),e("div",R,[W,X,Y,_(" "+d(t.getIdentity(n.selectedIdentity)),1)]),e("div",Z,[$,ee,te,_(" "+d(t.getOrientation(n.selectedOrientation)),1)]),e("div",se,[re,ne,ie,(l(!0),o(c,null,u(n.selectedInterests,r=>(l(),o("span",{key:r,class:"px-2 py-1 rounded-3xl bg-black border border-gray rounded-xl inline-block"},d(t.getInterest(r)),1))),128))])])])])]),e("div",oe,[x(m)])])])}const xe=D(A,[["render",le],["__scopeId","data-v-de03aaf1"]]);export{xe as default};
