import{b as g,_ as f,a as I}from"./generalMenu.343515dd.js";import{a as l,C,D as k,G as w,b as c,e as r,j as d,t as i,F as y,r as x,i as v,o as a,B as b,p as S,m as A}from"./entry.452b7f3a.js";import{_ as L}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.bdbb5b1b.js";import"./logoCupid.b8dda0a7.js";import"./index.ac9df0f7.js";import"./swiper-vue.05a5116d.js";const B={data(){return{userCurrent:"",_username:"",prospectsLiked:[],prospectsLikedSent:[],matches:[]}},mounted(){this._username=localStorage.getItem("CupidConnectuser"),this.fetchUser()},created:async function(){this.prospectsLiked=await this.getWhoLikedUsers(),this.prospectsLikedSent=await this.getLikedByUsers(),this.matches=await this.getMatches()},methods:{async getMatches(){try{const t=localStorage.getItem("CupidConnectId"),o=localStorage.getItem("CupidConnectToken"),n={userId:t},s=await l.post("https://espacionebula.com:8000/get-matches",n,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${o}`},mode:"cors"}),e=s.data;if(e.success)return e.matches;console.log("There was an error with the user : "+s.data.error)}catch{}},async getWhoLikedUsers(){try{const t=localStorage.getItem("CupidConnectId"),o=localStorage.getItem("CupidConnectToken"),n={_liked_userId:t},s=await l.post("https://espacionebula.com:8000/get-likes-to-user",n,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${o}`},mode:"cors"}),e=s.data;if(e.success)return e.usersWhoLiked;console.log("There was an error with the user : "+s.data.error)}catch{}},async getLikedByUsers(){try{const t=localStorage.getItem("CupidConnectId"),o=localStorage.getItem("CupidConnectToken"),n={liker_userId:t},s=await l.post("https://espacionebula.com:8000/get-likes-user",n,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${o}`},mode:"cors"}),e=s.data;if(e.success)return e.usersWhoILiked;console.log("There was an error with the user : "+s.data.error)}catch{}},getAge(t){if(!t)return 0;const o=new Date(t._dob),n=new Date,s=n.getFullYear()-o.getFullYear();return(n.getMonth()<o.getMonth()||n.getMonth()===o.getMonth()&&n.getDate()<o.getDate())&&s--,s},getIdentity(t){return C().getIdentitiesById(t)},getInterest(t){return k().getInterestsById(t)},getOrientation(){return w().getOrientationsById(this.selectedOrientation)},async fetchUser(){try{const t=localStorage.getItem("CupidConnectId"),o=localStorage.getItem("CupidConnectToken"),n={userId:t},s=await l.post("https://espacionebula.com:8000/get-user",n,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${o}`},mode:"cors"}),e=s.data;e.success?(e.user.identities!=""&&(this.selectedIdentity=e.user.identities),e.user._description!=""&&(this.description=e.user._description),e.user._orientations!=""&&(this.selectedOrientation=e.user._orientations),this.selectedInterests=e.user._interests,e.user._pictures.length>0&&(this.pictures=e.user._pictures),this.userCurrent=e.user):(this.error="There was an error with the user : "+s.data.error,console.log("There was an error with the user : "+s.data.error),this.clearErrorMessageAfterDelay())}catch(t){console.error("Error in fetchUser:",t)}}}},M=t=>(S("data-v-fcb11ff1"),t=t(),A(),t),O={class:"h-screen w-screen text-white flex relative"},T={class:"lg:hidden"},D={class:"hidden lg:block w-1/6"},P={class:"w-5/6 flex flex-col items-center mt-10"},U={class:"flex flex items-center"},j=["src"],z={key:1,src:g,alt:"Profile photo",class:"w-48 h-48 m-10 rounded-full object-cover"},F={class:"text-2xl"},W={class:"flex"},G={class:"mr-5"},N={class:"mr-5 ml-5"},V={class:"mr-5 ml-5"},E={class:"text-2xl font-bold mt-2"},Y={class:"text-md flex"},q={class:"mt-10 w-5/6 flex items-center justify-center"},H=["src"],J={key:0,class:"prospect-card border-2 border-[#686262] flex justify-center items-center"},K=M(()=>r("i",{class:"fa-solid fa-plus text-7xl text-[#686262]"},null,-1)),Q=[K];function X(t,o,n,s,e,u){const h=f,_=I;return a(),c("div",O,[r("div",T,[d(h)]),r("div",D,[d(_)]),r("div",P,[r("div",U,[e.userCurrent._profilePicture?(a(),c("img",{key:0,src:"https://espacionebula.com/img/"+e.userCurrent._profilePicture,alt:"Profile photo",class:"w-48 h-48 m-10 rounded-full object-cover"},null,8,j)):(a(),c("img",z)),r("div",null,[r("div",F,i(e.userCurrent._username??"Username Id"),1),r("div",W,[r("div",G,i(e.prospectsLiked.length+"  Likes recieved."),1),r("div",N,i(e.prospectsLikedSent.length+"  Likes sent."),1),r("div",V,i(e.matches.length+"  Matches."),1)]),r("div",E,i((e.userCurrent._fname??"First name and")+" "+(e.userCurrent._lname??"last name.")),1),r("div",Y,i(u.getAge(e.userCurrent)+"  years old."),1)])]),r("div",q,[(a(!0),c(y,null,x(e.userCurrent._pictures,(p,m)=>(a(),c("div",{class:"prospect-card",key:m},[r("img",{src:"https://espacionebula.com/img/"+p,alt:"Profile Picture",class:"profile-image flex flex-wrap",style:b(t.imageStyle)},null,12,H)]))),128)),e.userCurrent._pictures&&Object.keys(e.userCurrent._pictures).length<5?(a(),c("div",J,Q)):v("",!0)])])])}const oe=L(B,[["render",X],["__scopeId","data-v-fcb11ff1"]]);export{oe as default};
