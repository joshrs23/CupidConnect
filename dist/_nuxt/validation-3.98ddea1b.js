import{a as u,b as n,e,w as m,f as h,v as g,F as f,r as x,t as p,i as b,o as l,p as v,m as y,l as _}from"./entry.452b7f3a.js";import{_ as w}from"./logoCupid.b8dda0a7.js";import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";import"./swiper-vue.05a5116d.js";const k={data(){return{orientationData:[],selectedOrientation:null,error:""}},mounted(){localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this._username=localStorage.getItem("CupidConnectuser"),this.fetchOrientations()},methods:{verify(){return this.selectedOrientation?(this.error="",!0):(this.error="Please select an orientation",!1)},async submitFormOrientation(){if(this.verify()){const t=localStorage.getItem("CupidConnectId"),r=localStorage.getItem("CupidConnectToken"),c={userId:t,newOrientations:this.selectedOrientation},a=await u.post("https://espacionebula.com:8000/change-orientation-user",c,{headers:{"Access-Control-Allow-Origin":"*",Authorization:`Bearer ${r}`},mode:"cors"});a.data.success?this.$router.push("./validation-4"):(this.error="There was an error updating your orientation : "+a.data.error,console.log("There was an error updating your orientation : "+a.data.error),this.clearErrorMessageAfterDelay())}},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},async fetchOrientations(){try{const t=await u.get("https://espacionebula.com:8000/get-orientations",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"},mode:"cors"});this.orientationData=t.data.orientations,this.orientationData.length>0&&(this.selectedOrientation="")}catch(t){console.error("Error in fetchOrientations:",t)}}}},i=t=>(v("data-v-6960b94e"),t=t(),y(),t),C={class:"h-full w-full text-white bg-black min-w-screen"},I=i(()=>e("div",{class:"flex justify-center items-center logoEdit"},[e("h2",null,[e("img",{src:w,alt:"frameIcon"})])],-1)),S={class:"grid grid-rows grid-flow-col gap-4 mx-10 sm:mx-40 lg:mx-60"},D={class:""},A={class:"p-8"},T={class:""},E=i(()=>e("span",{class:"block text-2xl sm:text-m lg:text-5xl lg:pl-25 xl:px-28 lg:pt-18"},[_("Please provide us with your "),e("b",null,"orientation"),_(".")],-1)),F={class:"block w-full w-full md:8/12 xl:pl-32 pt-12"},B=i(()=>e("label",{class:"block lg:text-3xl lg:pr-12 lg:pt-18 pt-12"},"Select an option",-1)),M=i(()=>e("option",{value:"",disabled:"",selected:""},"Select your orientation",-1)),V=["value"],N=i(()=>e("div",{class:"lg:mt-4 text-right pr-10 xl:pr-52"},[e("button",{type:"submit",class:"mb-10"},[e("i",{class:"fa-solid fa-arrow-right fa-2x"})])],-1)),P={key:0,class:"text-red-500 text-center my-4"};function j(t,r,c,a,s,d){return l(),n("div",C,[I,e("div",S,[e("div",D,[e("form",{onSubmit:r[1]||(r[1]=m((...o)=>d.submitFormOrientation&&d.submitFormOrientation(...o),["prevent"]))},[e("div",A,[e("label",T,[E,e("div",F,[B,h(e("select",{filterable:!0,class:"text-2xl lg:text-3xl p-4 w-full md:6/12 lg:w-8/12 form-input rounded-3xl bg-black border border-gray pl-10 custom-scrollbar-container",type:"text","onUpdate:modelValue":r[0]||(r[0]=o=>s.selectedOrientation=o),required:""},[M,(l(!0),n(f,null,x(s.orientationData,o=>(l(),n("option",{key:o._id,value:o._id,white:""},p(o.name),9,V))),128))],512),[[g,s.selectedOrientation]])])])]),N,s.error?(l(),n("div",P,p(s.error),1)):b("",!0)],32)])])])}const G=O(k,[["render",j],["__scopeId","data-v-6960b94e"]]);export{G as default};
