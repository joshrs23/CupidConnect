import{a as u,b as d,e,w as h,t as m,i as _,o as p,p as f,m as g,l as n}from"./entry.452b7f3a.js";import{_ as x}from"./logoCupid.b8dda0a7.js";import{_ as v}from"./_plugin-vue_export-helper.c27b6911.js";import"./swiper-vue.05a5116d.js";const b={data(){return{pictures:null,error:""}},mounted(){localStorage.getItem("CupidConnectToken")||this.$router.push("/"),this._username=localStorage.getItem("CupidConnectuser")},methods:{verify(){return this.pictures==null?(this.error="Please select a photo",!1):(this.error="",!0)},clearErrorMessageAfterDelay(){setTimeout(()=>{this.error=""},5e3)},handlePicturesChange(t){this.pictures=t.target.files[0]},async submitFormPhotos(){if(this.verify())try{const t=new FormData,r=localStorage.getItem("CupidConnectId"),i=localStorage.getItem("CupidConnectToken");if(!i){console.error("Token de autorización no encontrado en el localStorage");return}t.append("userId",r),t.append("_profilePicture",this.pictures);const o=await u.post("https://espacionebula.com:8000/upload-picture-user",t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data",Authorization:`Bearer ${i}`},mode:"cors"});o.data.success?this.$router.push("/"):(this.error="There was an error updating photos : "+o.data.error,console.log("There was an error updating photos : "+o.data.error),this.clearErrorMessageAfterDelay())}catch(t){console.error("Error in explotó aquí:",t)}}}},a=t=>(f("data-v-10e10eae"),t=t(),g(),t),y={class:"h-full w-full text-white bg-black min-w-screen"},w=a(()=>e("div",{class:"flex justify-center items-center logoEdit"},[e("h2",null,[e("img",{src:x,alt:"frameIcon"})])],-1)),C={class:"grid grid-rows grid-flow-col gap-4 mx-10 sm:mx-40 lg:mx-60"},I={class:""},k={class:"p-8"},S={class:"relative block"},P=a(()=>e("span",{class:"block text-2xl sm:text-m lg:text-5xl lg:pl-25 xl:px-28 lg:pt-18"},[n("Please provide us with your "),e("b",null,"photos"),n(".")],-1)),T={class:"block w-full w-full md:8/12 xl:pl-32 pt-12"},A=a(()=>e("label",{for:"pictures",class:"text-xl border rounded p-2 cursor-pointer bg-black border border-gray hover:bg-gray-500 text-white py-2 px-4 rounded-full inline-flex items-center"},[e("i",{class:"fa-solid fa-images pr-2 fa-lg"}),n(" Upload File ")],-1)),D=a(()=>e("div",{class:"lg:mt-4 text-right pr-10 xl:pr-52"},[e("button",{id:"",type:"submit"},[e("i",{class:"fa-solid fa-arrow-right fa-2x"})])],-1)),E={key:0,class:"text-red-500 text-center my-4"};function F(t,r,i,o,c,s){return p(),d("div",y,[w,e("div",C,[e("div",I,[e("form",{onSubmit:r[1]||(r[1]=h((...l)=>s.submitFormPhotos&&s.submitFormPhotos(...l),["prevent"])),enctype:"multipart/form-data"},[e("div",k,[e("label",S,[P,e("div",T,[A,e("input",{ref:"picturesInput",id:"pictures",name:"pictures",type:"file",class:"hidden",accept:"image/*",onChange:r[0]||(r[0]=(...l)=>s.handlePicturesChange&&s.handlePicturesChange(...l))},null,544)])]),D,c.error?(p(),d("div",E,m(c.error),1)):_("",!0)])],32)])])])}const z=v(b,[["render",F],["__scopeId","data-v-10e10eae"]]);export{z as default};
